% !TEX root = ../../../main.tex
\section{Size estimation: Function Points}
The Function Points approach estimates the size of a software project starting from the functionalities that it has to offer. Several real projects have been analyzed to determine the number of FPs associated with a set of Function Types and the related estimated complexity. The values are provided by the table below:

\begin{table}[h!tb]
	\centering
	\caption{UFP Complexity Weights}
	\label{tab:ufp}
	\begin{tabular}{|c|c|c|c|}
		\hline
		 & \multicolumn{3}{ c |}{Complexity Weight}	\\	\hline
		\textit{Function type} & \textit{Low} & \textit{Average} & \textit{High}\\ \hline
		Internal Logic Files	& 7 & 10 & 15\\
		External Logic Files	& 5 & 7 & 10 \\
		External Inputs			& 3 & 4 & 6 \\
		External Outputs		& 4 & 5 & 7 \\
		External Inquiries		& 3 & 4 & 6 \\
		\hline
	\end{tabular}
\end{table}


\subsection{Internal Logic Files}
ILFs are groups of homogeneous data or control information that are stored within the application. In the following paragraphs, a brief discussion about the PowerEnJoy ILFs will be provided.

First of all, the users data need to be stored in the system. A User entity in the database stores personal details (name, surname and tax code), the driver licence identification number, login data and payment information. All these items are stored as strings.

For what concerns the Car status entities, the items that need to be stored are the identification number, the status of the car (Available, Unavailable, Reserved and In Use) and the position as a structure that includes the latitude and longitude values.

The same structure used to store the position of the cars is used in the Safe Area entities. This information allows the system to compare the position of a car, when a rent has just ended, with the ones that represent the safe areas. Moreover, a boolean value indicates the possibility or not to plug the cars with the power grid in a specific safe area.

The last entities that need to be stored are the ones related to the bookings and rentals. The former stores the starting time of the booking and if that booking has expired or not. Moreover, it has a reference to the user that started the booking and the car that has been booked. The latter, instead, stores the rental duration and, at the end of the rental, the amount due by the driver is included.

The previous considerations and the UFP Complexity Weights provided in the Table \ref{tab:ufp} has led to the following ILFs Function Points estimation:

%User data - Low
%Car status - Low
%Safe areas - Low
%Booking - Avg
%Rental - Avg

\begin{table}[h!tb]
	\centering
	\caption{ILFs Function Points}
	\label{tab:ilfs}
	\begin{tabular}{|l|l|l|}
		\hline
		ILF					&	Complexity	&	FPs	\\ \hline
		User data			&	Low			&	7	\\
		Car status			&	Low			&	7	\\
		Safe areas	  		&	Low			&	7	\\ 
		Booking				&	Average		&	10	\\
		Rental				&	Average		&	10	\\ \hline
		\multicolumn{2}{| l |}{Total}		&	41	\\
		\hline
	\end{tabular}
\end{table}

\subsection{External Logic Files}
\blindtext

\begin{table}[h!tb]
	\centering
	\caption{ELFs Function Points}
	\label{tab:elfs}
	\begin{tabular}{|l|l|l|}
		\hline
		ELF					&	Complexity	&	FPs	\\ \hline
		Recovery request	 &	 Low		&	5	\\
		Notification message &	 Low		&	5	\\
		Payment request		 &	 Low		&   5  \\ \hline
		\multicolumn{2}{| l |}{Total}		&	15\\
		\hline
	\end{tabular}
\end{table}

\subsection{External Inputs}
\blindtext

\begin{table}[h!tb]
	\centering
	\caption{EIs Function Points}
	\label{tab:eis}
	\begin{tabular}{|l|l|l|}
		\hline
		EI					&	Complexity	&	FPs	\\ \hline
		User registration	&	Average		&	4	\\
		Login/Logout		&	Low			&	2*3	\\ 
		Book a car			&	Average		&	4	\\
		Delete booking		&	Low			&	3	\\
		Unlock car doors	&	Average		&	4	\\
		Begin rental		&	High		&	6	\\
		End rental			&	High		&	6	\\ \hline
		\multicolumn{2}{| l |}{Total}		&	33\\
		\hline
	\end{tabular}
\end{table}

\subsection{External Inquiries}
\blindtext

\begin{table}[h!tb]
	\centering
	\caption{EQs Function Points}
	\label{tab:eqs}
	\begin{tabular}{|l|l|l|}
		\hline
		EQ					&	Complexity	&	FPs	\\ \hline
		Find cars						&	Low			&	3	\\
		Get details about car			&	Low			&	3	\\ 
		Get info about ongoing rental	&	High		&	6	\\ \hline
		\multicolumn{2}{| l |}{Total}					&	12\\
		\hline
	\end{tabular}
\end{table}

\subsection{External Outputs}
\blindtext

\begin{table}[h!tb]
	\centering
	\caption{EOs Function Points}
	\label{tab:eos}
	\begin{tabular}{|l|l|l|}
		\hline
		EO					&	Complexity	&	FPs	\\ \hline
		Elapsed booking notification		&	Low		&	4	\\
		Unlock car doors notification		&	Low		&	4	\\
		Ended rental notification			&	Low		&	4	\\ \hline
		\multicolumn{2}{| l |}{Total}					&	12\\
		\hline
	\end{tabular}
\end{table}

\subsection{Overall Estimation}
The following table provides the overall estimation of all the Function Types discussed above:

\begin{table}[h!tb]
	\centering
	\caption{Function Points overall estimation}
	\label{tab:overall_fps}
	\begin{tabular}{|l|l|}
		\hline
		Function Type		&	Value	\\ \hline
		Internal Logic Files	&	41	\\
		External Logic Files	&	15	\\ 
		External Inputs			&	33	\\ 
		External Inquiries		&	12	\\ 
		External Outputs		&	12	\\ \hline
		Total					&	113	\\
		\hline
	\end{tabular}
\end{table}

\blindtext

\begin{center}
$SLOC = AVC * number \ of \ function \ points$
\end{center}
Given the AVC values provided by QSM \cite{avc_qsm}, the estimated SLOC lower bound is:
\begin{center}
$SLOC = 14 * 113 = 1582$
\end{center}
While the upper bound is estimated to be:
\begin{center}
$SLOC = 134 * 113 = 15142$
\end{center}
In the following section the SLOC value that will be considered is the one calculated on the AVC average value:
\begin{center}
$SLOC = 53 * 113 = 5989$
\end{center}
